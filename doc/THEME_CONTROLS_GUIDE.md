# 主题控制和无障碍功能使用指南

## 功能概述

校园跳蚤市场网站现在提供了两个重要的控制开关，位于导航栏注册按钮旁边：

1. **夜间/白天模式切换** - 切换网站主题
2. **无障碍功能开关** - 开启/关闭无障碍支持功能

## 控制开关位置

控制开关位于网站顶部导航栏的右侧，在搜索框和用户菜单之间：

```
[搜索框] [🌞 主题] [♿ 无障碍] [登录] [注册]
```

## 功能详解

### 1. 夜间/白天模式切换

#### 功能说明
- **图标**：太阳图标（白天模式）/ 月亮图标（夜间模式）
- **作用**：切换网站的整体视觉主题
- **自动检测**：首次访问时会自动检测系统主题偏好

#### 使用方法
1. 点击主题切换按钮
2. 网站会立即切换到对应的主题模式
3. 设置会自动保存，下次访问时保持您的选择

#### 主题特点
**白天模式**：
- 浅色背景
- 深色文字
- 适合白天使用

**夜间模式**：
- 深色背景
- 浅色文字
- 减少眼部疲劳
- 适合夜间使用

### 2. 无障碍功能开关

#### 功能说明
- **图标**：无障碍符号（♿）
- **作用**：开启/关闭增强的无障碍支持功能
- **状态指示**：按钮会高亮显示当前状态

#### 开启无障碍功能后的增强特性

**1. 增强的焦点指示器**
- 更明显的焦点轮廓
- 红色高亮边框
- 更大的焦点区域

**2. 字体大小控制**
- 提供字体大小调节按钮
- 支持80%-150%的字体缩放
- 实时显示当前字体大小百分比

**3. 高对比度模式**
- 自动应用高对比度样式
- 提高文字与背景的对比度
- 便于视觉障碍用户阅读

**4. 增强的键盘导航**
- 支持更多键盘快捷键
- 改进的Tab键导航顺序
- 更清晰的导航反馈

**5. 屏幕阅读器支持**
- 实时播报状态变化
- 增强的语义化标签
- 更好的内容结构描述

**6. 跳过链接**
- 显示页面顶部的快速导航链接
- 允许键盘用户快速跳转到主要内容、导航菜单和搜索框
- 仅在无障碍功能开启时显示

#### 键盘快捷键（无障碍模式开启时）

- `Alt + 1`：跳转到主要内容
- `Alt + 2`：跳转到导航菜单
- `Alt + 3`：跳转到搜索框
- `Alt + T`：切换主题模式
- `Alt + A`：切换无障碍功能

## 设置保存

所有设置都会自动保存到浏览器的本地存储中：

- **主题偏好**：记住您选择的主题模式
- **无障碍设置**：记住无障碍功能的开启状态
- **字体大小**：记住您调整的字体大小
- **动画设置**：记住动画效果的开启状态

## 系统集成

### 自动检测系统偏好

网站会自动检测您的系统设置：

1. **主题偏好**：检测系统的深色/浅色模式设置
2. **动画偏好**：检测系统的减少动画设置
3. **对比度偏好**：检测系统的高对比度设置

### 响应式设计

所有控制功能都支持：

- **桌面端**：完整的控制面板
- **移动端**：适配的触摸界面
- **平板端**：优化的中等屏幕体验

## 使用建议

### 一般用户
- 根据使用时间选择合适主题（白天用浅色，夜间用深色）
- 根据需要开启无障碍功能获得更好的体验

### 视觉障碍用户
- 建议开启无障碍功能
- 使用字体大小控制调整到合适的阅读大小
- 利用高对比度模式提高可读性

### 键盘用户
- 开启无障碍功能获得更好的键盘导航体验
- 使用提供的快捷键快速导航
- 利用增强的焦点指示器跟踪当前位置

### 屏幕阅读器用户
- 开启无障碍功能获得更好的屏幕阅读器支持
- 利用实时播报了解状态变化
- 使用语义化导航快速定位内容

## 技术特性

### 性能优化
- 设置变化时使用CSS变量，无需重新加载页面
- 本地存储减少服务器请求
- 智能缓存提高响应速度

### 兼容性
- 支持所有现代浏览器
- 兼容主流屏幕阅读器
- 支持各种输入设备

### 可访问性
- 符合WCAG 2.1 AA级标准
- 支持键盘导航
- 提供屏幕阅读器支持
- 支持高对比度模式

## 故障排除

### 设置不保存
- 检查浏览器是否启用了本地存储
- 清除浏览器缓存后重试
- 确保浏览器版本支持localStorage

### 主题切换不生效
- 刷新页面重试
- 检查浏览器控制台是否有错误
- 确保JavaScript已启用

### 无障碍功能异常
- 重新开启无障碍功能
- 检查浏览器兼容性
- 清除浏览器缓存

## 联系支持

如果您在使用过程中遇到问题，请通过以下方式联系我们：

- 邮箱：21641685@qq.com
- 电话：182-0000-7541
- 地址：中国·贵州·安顺市

我们致力于为所有用户提供最佳的访问体验！

---

*最后更新：2025年1月*
